"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[972],{1495:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>r,contentTitle:()=>d,default:()=>u,frontMatter:()=>a,metadata:()=>l,toc:()=>c});var o=n(4848),t=n(8453);const a={sidebar_position:5,title:"View & Layout"},d="View and layout scripts",l={id:"ViewLayout",title:"View & Layout",description:"LmcAdmin includes an admin layout and index view script, so LmcAdmin works out of the box. These view scripts are fully customizable, you can turn them off or render other scripts. All options are listed below.",source:"@site/docs/ViewLayout.md",sourceDirName:".",slug:"/ViewLayout",permalink:"/LmcAdmin/docs/ViewLayout",draft:!1,unlisted:!1,editUrl:"https://github.com/lm-commons/lmcadmin/tree/master/docs/docs/ViewLayout.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5,title:"View & Layout"},sidebar:"documentationSidebar",previous:{title:"Authorization",permalink:"/LmcAdmin/docs/Authorization"}},r={},c=[{value:"Override admin layout",id:"override-admin-layout",level:2},{value:"Override admin index view script",id:"override-admin-index-view-script",level:2},{value:"Rename admin layout",id:"rename-admin-layout",level:2},{value:"Disable layout",id:"disable-layout",level:2},{value:"Use normal <code>layout.phtml</code> layout",id:"use-normal-layoutphtml-layout",level:2}];function s(e){const i={code:"code",em:"em",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.h1,{id:"view-and-layout-scripts",children:"View and layout scripts"}),"\n",(0,o.jsx)(i.p,{children:"LmcAdmin includes an admin layout and index view script, so LmcAdmin works out of the box. These view scripts are fully customizable, you can turn them off or render other scripts. All options are listed below."}),"\n",(0,o.jsx)(i.h2,{id:"override-admin-layout",children:"Override admin layout"}),"\n",(0,o.jsxs)(i.p,{children:["You can define your own layout script. If you want a custom layout template, you must create a module where this layout is defined. Then the resolver can automatically find a version of the layout if you configure your module correctly. Say you have a module ",(0,o.jsx)(i.code,{children:"MyAdmin"}),", create a module configuration to load view scripts for that module in the ",(0,o.jsx)(i.code,{children:"module.config.php"}),":"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-php",children:"    'view_manager' => array(\n        'template_path_stack' => array(\n            __DIR__ . '/../view'\n        ),\n    ),\n"})}),"\n",(0,o.jsxs)(i.p,{children:["The MyAdmin module must contain a ",(0,o.jsx)(i.code,{children:"view"})," directory. Inside this directory, create another directory called ",(0,o.jsx)(i.code,{children:"layout"})," and inside ",(0,o.jsx)(i.code,{children:"layout"})," create a file ",(0,o.jsx)(i.code,{children:"admin.phtml"}),". So this file is located (if your MyAdmin module is under the ",(0,o.jsx)(i.code,{children:"module/"})," directory of your application) at ",(0,o.jsx)(i.code,{children:"module/MyAdmin/view/layout/admin.phtml"}),"."]}),"\n",(0,o.jsxs)(i.p,{children:["Make sure MyAdmin is registered in the ",(0,o.jsx)(i.code,{children:"application.config.php"})," and ",(0,o.jsx)(i.code,{children:"LmcAdmin"})," is located ",(0,o.jsx)(i.em,{children:"above"})," ",(0,o.jsx)(i.code,{children:"MyAdmin"}),". Then your new admin template will be loaded."]}),"\n",(0,o.jsx)(i.h2,{id:"override-admin-index-view-script",children:"Override admin index view script"}),"\n",(0,o.jsxs)(i.p,{children:["You can also define the script rendered when you visit ",(0,o.jsx)(i.code,{children:"/admin"}),". The way to solve this is similar to changing the layout (see above), only the location of the view script is different. So create a new module, for example MyAdmin, and enable this configuration:"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-php",children:"    'view_manager' => array(\n        'template_path_stack' => array(\n            __DIR__ . '/../view'\n        ),\n    ),\n"})}),"\n",(0,o.jsxs)(i.p,{children:["Then create the folders ",(0,o.jsx)(i.code,{children:"lmc-admin/admin"})," inside the ",(0,o.jsx)(i.code,{children:"view"})," directory. Inside ",(0,o.jsx)(i.code,{children:"lmc-admin/admin"}),", create an ",(0,o.jsx)(i.code,{children:"index.phtml"})," file. So this file is located (if your MyAdmin module is under the ",(0,o.jsx)(i.code,{children:"module/"})," directory of your application) at ",(0,o.jsx)(i.code,{children:"module/MyAdmin/view/lmc-admin/admin/index.phtml"}),"."]}),"\n",(0,o.jsxs)(i.p,{children:["Make sure MyAdmin is registered in the ",(0,o.jsx)(i.code,{children:"application.config.php"})," and ",(0,o.jsx)(i.code,{children:"LmcAdmin"})," is located ",(0,o.jsx)(i.em,{children:"above"})," ",(0,o.jsx)(i.code,{children:"MyAdmin"}),". Then your new index view script will be loaded."]}),"\n",(0,o.jsx)(i.h2,{id:"rename-admin-layout",children:"Rename admin layout"}),"\n",(0,o.jsxs)(i.p,{children:["If you already have a ",(0,o.jsx)(i.code,{children:"layout/admin"})," layout template and want to use another layout for LmcAdmin, you can rename the layout used. By default it is ",(0,o.jsx)(i.code,{children:"layout/admin"})," but you can for example configure LmcAdmin to switch to ",(0,o.jsx)(i.code,{children:"layout/backend"}),". You can enable this configuration to use another layout name:"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-php",children:"    'lmcadmin' => array(\n        'admin_layout_template' => 'layout/backend'\n    ),\n"})}),"\n",(0,o.jsx)(i.h2,{id:"disable-layout",children:"Disable layout"}),"\n",(0,o.jsx)(i.p,{children:"If you need a page with a controller where only the view script is rendered, you can disable the layout. Layout disabling works just like any other page outside LmcAdmin where you disable the layout. To accomplish this, you must terminate the view model in the controller:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-php",children:"    public function indexAction()\n    {\n        $model = new ViewModel;\n        $model->setTerminal(true);\n\n        return $model;\n    }\n"})}),"\n",(0,o.jsxs)(i.h2,{id:"use-normal-layoutphtml-layout",children:["Use normal ",(0,o.jsx)(i.code,{children:"layout.phtml"})," layout"]}),"\n",(0,o.jsxs)(i.p,{children:["You can disable LmcAdmin to switch to the ",(0,o.jsx)(i.code,{children:"layout/admin"})," layout at all. The routing and navigation still works, but the name of the layout script is untouched. You can enable this configuration to disable layout switching:"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-php",children:"    'lmcadmin' => array(\n        'use_admin_layout' => false\n    ),\n"})})]})}function u(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,o.jsx)(i,{...e,children:(0,o.jsx)(s,{...e})}):s(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>d,x:()=>l});var o=n(6540);const t={},a=o.createContext(t);function d(e){const i=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),o.createElement(a.Provider,{value:i},e.children)}}}]);